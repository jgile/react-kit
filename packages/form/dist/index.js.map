{"mappings":"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","sources":["packages/form/src/index.ts","packages/form/src/useForm.ts","packages/form/src/lib/url.js","packages/form/src/lib/types.js","packages/form/src/lib/files.js","packages/form/src/lib/formData.js","packages/form/src/useData.ts"],"sourcesContent":["export {default as useForm, Visitor} from './useForm';\nexport {default as useData} from './useData';","import {useCallback, useEffect, useRef, useState} from 'react'\nimport isEqual from 'lodash.isequal';\nimport get from 'lodash.get';\nimport {hrefToUrl, mergeDataIntoQueryString, urlWithoutHash} from './lib/url';\nimport {Method} from './lib/types';\nimport {hasFiles} from \"./lib/files\";\nimport {objectToFormData} from \"./lib/formData\";\nimport axios from \"axios\";\n\ntype VisitConfig = {\n    method: string\n    data: object,\n    replace: boolean,\n    headers: object,\n    errorBag: string\n    forceFormData: boolean,\n    onCancelToken: () => any,\n    onBefore: (visit) => any,\n    onStart: (visit) => any,\n    onProgress: (percent) => any,\n    onFinish: () => any,\n    onSuccess: (data) => any,\n    onError: (errors) => any,\n    queryStringArrayFormat: string\n};\n\nexport const Visitor = {\n    config: () => {\n        return {}\n    },\n    visitor: {\n        visit(href, {\n            method = Method.GET,\n            data = {},\n            replace = false,\n            headers = {},\n            errorBag = '',\n            forceFormData = false,\n            onCancelToken = () => {\n            },\n            onBefore = () => {\n            },\n            onStart = () => {\n            },\n            onProgress = () => {\n            },\n            onFinish = () => {\n            },\n            onSuccess = (response) => response,\n            onError = () => {\n            },\n            queryStringArrayFormat = 'brackets',\n        }: VisitConfig) {\n            let url = typeof href === 'string' ? hrefToUrl(href) : href;\n\n            if (this.activeVisit && this.activeVisit.processing) {\n                return;\n            }\n\n            // Create form data if has files\n            if ((hasFiles(data) || forceFormData) && !(data instanceof FormData)) {\n                data = objectToFormData(data);\n            }\n\n            // If not FormData,\n            if (!(data instanceof FormData)) {\n                const [_href, _data] = mergeDataIntoQueryString(method, url, data, queryStringArrayFormat);\n                url = hrefToUrl(_href);\n                data = _data\n            }\n\n            const visit: {\n                url: string,\n                method: string,\n                data: any,\n                replace: any,\n                headers: any,\n                errorBag: any,\n                forceFormData: boolean,\n                queryStringArrayFormat: string,\n                completed: boolean,\n                interrupted: boolean,\n                cancelled: boolean,\n            } = {\n                url,\n                method,\n                data,\n                replace,\n                headers,\n                errorBag,\n                forceFormData,\n                queryStringArrayFormat,\n                completed: false,\n                interrupted: false,\n                cancelled: false,\n            };\n\n            this.activeVisit = Object.assign(Object.assign({}, visit), {onCancelToken, onBefore, onStart, onProgress, onFinish, onSuccess, onError, queryStringArrayFormat});\n\n            if (onBefore(visit) === false) {\n                return;\n            }\n\n            onStart(visit);\n\n            return Promise.resolve(this.config()).then(config => {\n                return new Promise((resolve, reject) => {\n                    return axios({\n                        method: method,\n                        url: urlWithoutHash(url).href,\n                        data: method === Method.GET ? {} : data,\n                        params: method === Method.GET ? data : {},\n                        headers: Object.assign(Object.assign({}, headers), {'X-Requested-With': 'XMLHttpRequest'}),\n                        onUploadProgress: progress => {\n                            if (data instanceof FormData) {\n                                progress.percentage = Math.round(progress.loaded / progress.total * 100);\n                                onProgress(progress);\n                            }\n                        },\n                        ...config\n                    }).then((response) => {\n                        const errors = get(response, 'data.errors', {}) || {};\n\n                        if (this.activeVisit) {\n                            this.finishVisit(this.activeVisit);\n                        }\n\n                        if (Object.keys(errors).length > 0) {\n                            const scopedErrors = errorBag ? (errors[errorBag] ? errors[errorBag] : {}) : errors;\n                            return onError(scopedErrors);\n                        }\n\n                        onSuccess(response.data);\n\n                        return resolve(response.data);\n                    }).catch((error) => {\n                        const errors = get(error, 'response.data.errors', {});\n\n                        if (this.activeVisit) {\n                            this.finishVisit(this.activeVisit);\n                        }\n\n                        if (Object.keys(errors).length > 0) {\n                            const scopedErrors = errorBag ? (errors[errorBag] ? errors[errorBag] : {}) : errors;\n                            return onError(scopedErrors);\n                        }\n\n                        return reject(error);\n                    })\n                });\n            });\n        },\n\n        finishVisit(visit) {\n            visit.completed = true;\n            visit.cancelled = false;\n            visit.interrupted = false;\n            visit.onFinish(visit);\n        },\n\n        get(url, data = {}, options = {}) {\n            return this.visit(url, Object.assign(Object.assign({}, options), {method: Method.GET, data}));\n        },\n\n        post(url, data = {}, options = {}) {\n            return this.visit(url, Object.assign(Object.assign({preserveState: true}, options), {method: Method.POST, data}));\n        },\n\n        put(url, data = {}, options = {}) {\n            return this.visit(url, Object.assign(Object.assign({preserveState: true}, options), {method: Method.PUT, data}));\n        },\n\n        patch(url, data = {}, options = {}) {\n            return this.visit(url, Object.assign(Object.assign({preserveState: true}, options), {method: Method.PATCH, data}));\n        },\n\n        delete(url, options = {}) {\n            return this.visit(url, Object.assign(Object.assign({preserveState: true}, options), {method: Method.DELETE}));\n        }\n    },\n    useForm(...args) {\n        const isMounted = useRef(null)\n        const defaults = (typeof args[0] === 'string' ? args[1] : args[0]) || {}\n        const cancelToken = useRef(null)\n        const recentlySuccessfulTimeoutId = useRef(null)\n        const [data, setData] = useState(defaults)\n        const [response, setResponse] = useState({})\n        const [errors, setErrors] = useState({})\n        const [hasErrors, setHasErrors] = useState(false)\n        const [processing, setProcessing] = useState(false)\n        const [progress, setProgress] = useState(null)\n        const [wasSuccessful, setWasSuccessful] = useState(false)\n        const [recentlySuccessful, setRecentlySuccessful] = useState(false)\n\n        let transform = (data) => data\n\n        useEffect(() => {\n            isMounted.current = true\n            return () => {\n                isMounted.current = false\n            }\n        }, [])\n\n        const submit = useCallback(\n            (method, url, options = {}) => {\n                const _options = {\n                    ...options,\n                    onBefore: (visit) => {\n                        setWasSuccessful(false)\n                        setRecentlySuccessful(false)\n                        clearTimeout(recentlySuccessfulTimeoutId.current)\n\n                        if (options.onBefore) {\n                            return options.onBefore(visit)\n                        }\n                    },\n                    onStart: (visit) => {\n                        setProcessing(true)\n\n                        if (options.onStart) {\n                            return options.onStart(visit)\n                        }\n                    },\n                    onProgress: (event) => {\n                        setProgress(event)\n\n                        if (options.onProgress) {\n                            return options.onProgress(event)\n                        }\n                    },\n                    onSuccess: (response) => {\n                        setResponse(response);\n\n                        if (isMounted.current) {\n                            setProcessing(false)\n                            setProgress(null)\n                            setErrors({})\n                            setHasErrors(false)\n                            setWasSuccessful(true)\n                            setRecentlySuccessful(true)\n                            recentlySuccessfulTimeoutId.current = setTimeout(() => {\n                                if (isMounted.current) {\n                                    setRecentlySuccessful(false)\n                                }\n                            }, 2000)\n                        }\n\n                        if (options.onSuccess) {\n                            return options.onSuccess(response)\n                        }\n                    },\n                    onError: (errors) => {\n                        if (isMounted.current) {\n                            setProcessing(false)\n                            setProgress(null)\n                            setErrors(errors)\n                            setHasErrors(true)\n                        }\n\n                        if (options.onError) {\n                            return options.onError(errors)\n                        }\n                    },\n                    onCancel: () => {\n                        if (isMounted.current) {\n                            setProcessing(false)\n                            setProgress(null)\n                        }\n\n                        if (options.onCancel) {\n                            return options.onCancel()\n                        }\n                    },\n                    onFinish: () => {\n                        if (isMounted.current) {\n                            setProcessing(false)\n                            setProgress(null)\n                        }\n\n                        if (options.onFinish) {\n                            return options.onFinish()\n                        }\n                    },\n                }\n\n                if (method === 'delete') {\n                    return this.visitor.delete(url, {..._options, data: transform(data)})\n                } else {\n                    return this.visitor[method](url, transform(data), _options)\n                }\n            },\n            [data, setErrors],\n        )\n\n        return {\n            data,\n            response,\n            setData(key, value) {\n                if (typeof value === 'object' && 'target' in value && value.target) {\n                    value = value.target.value;\n                }\n\n                if (typeof key === 'string') {\n                    setData({...data, [key]: value})\n                } else if (typeof key === 'function') {\n                    setData(data => key(data))\n                } else {\n                    setData(key)\n                }\n\n                return this;\n            },\n            isDirty: !isEqual(data, defaults),\n            errors,\n            hasErrors,\n            processing,\n            progress,\n            wasSuccessful,\n            recentlySuccessful,\n            transform(callback) {\n                transform = callback\n            },\n            reset(...fields) {\n                if (!fields.length) {\n                    setData(defaults)\n                } else {\n                    setData(\n                        Object.keys(defaults)\n                            .filter((key) => fields.includes(key))\n                            .reduce((carry, key) => {\n                                carry[key] = defaults[key]\n                                return carry\n                            }, {...data}),\n                    )\n                }\n            },\n            clearErrors(...fields) {\n                setErrors(\n                    Object.keys(errors).reduce(\n                        (carry, field) => ({\n                            ...carry,\n                            ...(fields.length > 0 && !fields.includes(field) ? {[field]: errors[field]} : {}),\n                        }),\n                        {},\n                    ),\n                )\n                setHasErrors(Object.keys(errors).length > 0)\n            },\n            submit,\n            get(url, options) {\n                return submit('get', url, options)\n            },\n            post(url, options) {\n                return submit('post', url, options)\n            },\n            put(url, options) {\n                return submit('put', url, options)\n            },\n            patch(url, options) {\n                return submit('patch', url, options)\n            },\n            delete(url, options) {\n                return submit('delete', url, options)\n            },\n            cancel() {\n                if (cancelToken.current) {\n                    cancelToken.current.cancel()\n                }\n            },\n        }\n    }\n};\n\nconst useForm = Visitor.useForm;\n\nexport default useForm;","import * as qs from 'qs';\nimport deepmerge from 'deepmerge';\nimport {Method} from './types';\n\nexport function hrefToUrl(href) {\n    return new URL(href.toString(), window.location.toString());\n}\n\nexport function mergeDataIntoQueryString(method, href, data, qsArrayFormat = 'brackets') {\n    const hasHost = /^https?:\\/\\//.test(href.toString());\n    const hasAbsolutePath = hasHost || href.toString().startsWith('/');\n    const hasRelativePath = !hasAbsolutePath && !href.toString().startsWith('#') && !href.toString().startsWith('?');\n    const hasSearch = href.toString().includes('?') || (method === Method.GET && Object.keys(data).length);\n    const hasHash = href.toString().includes('#');\n    const url = new URL(href.toString(), 'http://localhost');\n    if (method === Method.GET && Object.keys(data).length) {\n        url.search = qs.stringify(deepmerge(qs.parse(url.search, {ignoreQueryPrefix: true}), data), {\n            encodeValuesOnly: true,\n            arrayFormat: qsArrayFormat,\n        });\n        data = {};\n    }\n    return [\n        [\n            hasHost ? `${url.protocol}//${url.host}` : '',\n            hasAbsolutePath ? url.pathname : '',\n            hasRelativePath ? url.pathname.substring(1) : '',\n            hasSearch ? url.search : '',\n            hasHash ? url.hash : '',\n        ].join(''),\n        data,\n    ];\n}\n\nexport function urlWithoutHash(url) {\n    url = new URL(url.href);\n    url.hash = '';\n    return url;\n}\n","export var Method;\n(function (Method) {\n    Method[\"GET\"] = \"get\";\n    Method[\"POST\"] = \"post\";\n    Method[\"PUT\"] = \"put\";\n    Method[\"PATCH\"] = \"patch\";\n    Method[\"DELETE\"] = \"delete\";\n})(Method || (Method = {}));\n","export function hasFiles(data) {\n    return (data instanceof File ||\n        data instanceof Blob ||\n        (data instanceof FileList && data.length > 0) ||\n        (data instanceof FormData && Array.from(data.values()).some((value) => hasFiles(value))) ||\n        (typeof data === 'object' && data !== null && Object.values(data).some((value) => hasFiles(value))));\n}\n","export function objectToFormData(source, form = new FormData(), parentKey = null) {\n    source = source || {};\n    for (const key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            append(form, composeKey(parentKey, key), source[key]);\n        }\n    }\n    return form;\n}\n\nfunction composeKey(parent, key) {\n    return parent ? parent + '[' + key + ']' : key;\n}\n\nfunction append(form, key, value) {\n    if (Array.isArray(value)) {\n        return Array.from(value.keys()).forEach(index => append(form, composeKey(key, index.toString()), value[index]));\n    } else if (value instanceof Date) {\n        return form.append(key, value.toISOString());\n    } else if (value instanceof File) {\n        return form.append(key, value, value.name);\n    } else if (value instanceof Blob) {\n        return form.append(key, value);\n    } else if (typeof value === 'boolean') {\n        return form.append(key, value ? '1' : '0');\n    } else if (typeof value === 'string') {\n        return form.append(key, value);\n    } else if (typeof value === 'number') {\n        return form.append(key, `${value}`);\n    } else if (value === null || value === undefined) {\n        return form.append(key, '');\n    }\n    objectToFormData(value, form, key);\n}\n","import {useState} from \"react\";\nimport isEqual from \"lodash.isequal\";\n\nexport default function useData(...args) {\n    const defaults = (typeof args[0] === 'string' ? args[1] : args[0]) || {};\n    const [data, setData] = useState(defaults);\n\n    return {\n        data,\n        reset(...fields): void {\n            if (!fields.length) {\n                setData(defaults)\n            } else {\n                setData(\n                    Object.keys(defaults)\n                        .filter((key) => fields.includes(key))\n                        .reduce((carry, key) => {\n                            carry[key] = defaults[key]\n                            return carry\n                        }, {...data}),\n                )\n            }\n        },\n        setData(key: any, value: any) {\n            if (typeof value === 'object' && 'target' in value && value.target) {\n                value = value.target.value;\n            }\n\n            if (typeof key === 'string') {\n                setData({...data, [key]: value})\n            } else if (typeof key === 'function') {\n                setData(data => key(data))\n            } else {\n                setData(key)\n            }\n\n            return this;\n        },\n        isDirty: !isEqual(data, defaults)\n    }\n}"],"names":[],"version":3,"file":"index.js.map"}