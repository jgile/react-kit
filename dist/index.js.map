{"version":3,"file":"index.js","sources":["../src/forms/useProxy.ts","../src/forms/types.ts","../src/forms/url.ts","../src/forms/formData.ts","../src/forms/files.ts","../src/forms/useForm.ts","../src/forms/useData.ts","../src/forms/visit.ts","../src/components/Flex.tsx","../src/components/FlexItem.tsx"],"sourcesContent":["import {proxy as makeProxy, useSnapshot} from 'valtio'\nimport {derive} from 'valtio/utils'\nimport {useMemo} from \"react\";\nimport forEach from \"lodash/forEach\";\n\ninterface Keyable {\n    [key: string]: any;\n}\n\nexport default function useProxy(args: Keyable = {}, computed?: Keyable) {\n    const state = useMemo(() => {\n        const comp = {};\n        const tmpState = makeProxy(args);\n\n        if (computed) {\n            forEach(computed, (callback, name) => {\n                //@ts-ignore\n                comp[name] = (get) => {\n                    return callback(get(tmpState));\n                }\n            });\n            derive(comp, {proxy: tmpState});\n        }\n\n        return tmpState;\n    }, []);\n\n\n    const snap = useSnapshot(state);\n\n    return {\n        state,\n        snap,\n    }\n}\n","import {ResponseType, AxiosError} from 'axios';\n\nexport type Errors = Record<string, string>\n\nexport type FormDataConvertible = Array<FormDataConvertible> | Blob | FormDataEntryValue | Date | boolean | number | null\n\nexport enum Method {\n    GET = 'get',\n    POST = 'post',\n    PUT = 'put',\n    PATCH = 'patch',\n    DELETE = 'delete',\n}\n\nexport type RequestPayload = Record<string, FormDataConvertible> | FormData\n\nexport type Progress = ProgressEvent & { percentage: number }\n\nexport type Visit = {\n    method: Method,\n    data: RequestPayload,\n    replace: boolean,\n    only: Array<string>,\n    headers: Record<string, string>\n    errorBag: string | null,\n    forceFormData: boolean,\n    queryStringArrayFormat: 'indices' | 'brackets',\n}\n\n// export type GlobalEventCallback<TEventName extends GlobalEventNames> = (...params: GlobalEventParameters<TEventName>) => GlobalEventResult<TEventName>\n\nexport type VisitParams = Partial<Visit & {\n    onCatch: { (errors: AxiosError): AxiosError },\n    onStart: { (config: any): any },\n    onProgress: { (progress: Progress): void },\n    onFinish: { (): void },\n    onSuccess: { (response: ResponseType): ResponseType },\n    onError: { (errors: Errors): Errors }\n}>\n\n\nexport type PendingVisit = Visit & {\n    url: URL,\n    completed: boolean,\n    cancelled: boolean,\n    interrupted: boolean,\n};\n\n\nexport type InertiaAppResponse = Promise<{ head: string[], body: string } | void>\n","import * as qs from 'qs'\nimport {default as deepmerge} from \"deepmerge\";\nimport {FormDataConvertible, Method} from './types'\n\nexport function hrefToUrl(href: string | URL): URL {\n    return new URL(href.toString(), window.location.toString())\n}\n\nexport function mergeDataIntoQueryString(\n    method: Method,\n    href: URL | string,\n    data: Record<string, FormDataConvertible>,\n    qsArrayFormat: 'indices' | 'brackets' = 'brackets',\n): [string, Record<string, FormDataConvertible>] {\n    const hasHost = /^https?:\\/\\//.test(href.toString())\n    const hasAbsolutePath = hasHost || href.toString().startsWith('/')\n    const hasRelativePath = !hasAbsolutePath && !href.toString().startsWith('#') && !href.toString().startsWith('?')\n    const hasSearch = href.toString().includes('?') || (method === Method.GET && Object.keys(data).length)\n    const hasHash = href.toString().includes('#')\n\n    const url = new URL(href.toString(), 'http://localhost')\n\n    if (method === Method.GET && Object.keys(data).length) {\n        //@ts-ignore\n        url.search = qs.stringify(deepmerge(qs.parse(url.search, {ignoreQueryPrefix: true}), data), {\n            encodeValuesOnly: true,\n            arrayFormat: qsArrayFormat,\n        })\n        data = {}\n    }\n\n    return [\n        [\n            hasHost ? `${url.protocol}//${url.host}` : '',\n            hasAbsolutePath ? url.pathname : '',\n            hasRelativePath ? url.pathname.substring(1) : '',\n            hasSearch ? url.search : '',\n            hasHash ? url.hash : '',\n        ].join(''),\n        data,\n    ]\n}\n\nexport function urlWithoutHash(url: URL | Location): URL {\n    url = new URL(url.href)\n    url.hash = ''\n    return url\n}\n","import {FormDataConvertible} from './types'\n\nexport function objectToFormData(\n    source: Record<string, FormDataConvertible>,\n    form: FormData = new FormData(),\n    parentKey: string | null = null,\n): FormData {\n    source = source || {}\n\n    for (const key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            append(form, composeKey(parentKey, key), source[key])\n        }\n    }\n\n    return form\n}\n\nfunction composeKey(parent: string | null, key: string): string {\n    return parent ? parent + '[' + key + ']' : key\n}\n\nfunction append(form: FormData, key: string, value: FormDataConvertible): void {\n    if (Array.isArray(value)) {\n        return Array.from(value.keys()).forEach(index => append(form, composeKey(key, index.toString()), value[index]))\n    } else if (value instanceof Date) {\n        return form.append(key, value.toISOString())\n    } else if (value instanceof File) {\n        return form.append(key, value, value.name)\n    } else if (value instanceof Blob) {\n        return form.append(key, value)\n    } else if (typeof value === 'boolean') {\n        return form.append(key, value ? '1' : '0')\n    } else if (typeof value === 'string') {\n        return form.append(key, value)\n    } else if (typeof value === 'number') {\n        return form.append(key, `${value}`)\n    } else if (value === null || value === undefined) {\n        return form.append(key, '')\n    }\n\n    objectToFormData(value, form, key)\n}\n","import {FormDataConvertible, RequestPayload} from './types'\n\nexport function hasFiles(data: RequestPayload | FormDataConvertible): boolean {\n    return (\n        data instanceof File ||\n        data instanceof Blob ||\n        (data instanceof FileList && data.length > 0) ||\n        // @ts-ignore\n        (data instanceof FormData && Array.from(data.values()).some((value) => hasFiles(value))) ||\n        (typeof data === 'object' && data !== null && Object.values(data).some((value) => hasFiles(value)))\n    )\n}\n","import {useCallback, useEffect, useRef, useState} from 'react';\nimport isEqual from 'lodash/isEqual';\nimport {default as Axios} from 'axios'\nimport {hrefToUrl, mergeDataIntoQueryString, urlWithoutHash} from './url'\nimport {Errors, Method, Progress, VisitParams,} from \"./types\";\nimport {AxiosError} from 'axios';\nimport {objectToFormData} from \"./formData\";\nimport {hasFiles} from \"./files\";\n\nexport default function useForm(args: object = {}, options: object = {}, requestOptions: object = {}) {\n    const isMounted = useRef(null)\n    const [defaults, setDefaults] = useState(args)\n    const [data, setData] = useState(args);\n    const [errors, setErrors] = useState({});\n    const [response, setResponse] = useState({});\n    const [hasErrors, setHasErrors] = useState(false)\n    const [processing, setProcessing] = useState(false)\n    const [progress, setProgress] = useState(null)\n    const [wasSuccessful, setWasSuccessful] = useState(false)\n    const [recentlySuccessful, setRecentlySuccessful] = useState(false)\n    const [defaultOptions, setDefaultOptions] = useState(options);\n    const [defaultRequestOptions, setDefaultRequestOptions] = useState(requestOptions)\n    let transform = (data: object) => data\n\n    useEffect(() => {\n        //@ts-ignore\n        isMounted.current = true\n        return () => {\n            //@ts-ignore\n            isMounted.current = false\n        }\n    }, [])\n\n    const submit = useCallback((method: Method, href: any, options: object = {}, requestOptions: object = {}) => {\n        let url = typeof href === 'string' ? hrefToUrl(href) : href\n        let transformedData: object = transform(data);\n\n        const mergedOptions: VisitParams = {\n            forceFormData: false,\n            queryStringArrayFormat: 'brackets',\n            onStart: (config: object) => config,\n            onProgress: (progress: Progress) => progress,\n            onSuccess: (response: any) => response,\n            onCatch: (errors: AxiosError) => errors,\n            onError: (errors: Errors) => errors,\n            onFinish: () => ({}),\n            ...defaultOptions,\n            ...options\n        };\n\n        //@ts-ignore\n        if ((hasFiles(transformedData) || mergedOptions.forceFormData) && !(transformedData instanceof FormData)) {\n            //@ts-ignore\n            transformedData = objectToFormData(transformedData)\n        }\n\n        if (!(transformedData instanceof FormData)) {\n            //@ts-ignore\n            const [_href, _data] = mergeDataIntoQueryString(method, url, transformedData, mergedOptions.queryStringArrayFormat)\n            url = hrefToUrl(_href)\n            transformedData = _data\n        }\n\n        const mergedConfig = {\n            method: method,\n            url: urlWithoutHash(url).href,\n            data: method === Method.GET ? {} : transformedData,\n            params: method === Method.GET ? transformedData : {},\n            headers: {\n                'X-Requested-With': 'XMLHttpRequest',\n                'Content-Type': 'application/json',\n                'Accept': 'application/json',\n            },\n            onUploadProgress: (progress: Progress) => {\n                if (data instanceof FormData) {\n                    progress.percentage = Math.round(progress.loaded / progress.total * 100)\n                    // @ts-ignore\n                    mergedOptions.onProgress(progress)\n                }\n            },\n            ...defaultRequestOptions,\n            ...requestOptions,\n        }\n\n        setProcessing(true)\n        setWasSuccessful(false)\n        setRecentlySuccessful(false)\n\n        // @ts-ignore\n        return Promise.resolve(mergedOptions.onStart(mergedConfig)).then((newConfig) => {\n            return Axios(newConfig ?? mergedConfig).then((response) => {\n                if (isMounted.current) {\n                    const errors = response.data.errors || {}\n                    setProcessing(false)\n                    setProgress(null)\n                    setResponse(response.data || {})\n                    setErrors(errors)\n\n                    if (Object.keys(errors).length > 0) {\n                        setHasErrors(true)\n                        // @ts-ignore\n                        mergedOptions.onError(errors)\n                        return response;\n                    }\n\n                    setHasErrors(false)\n                    setWasSuccessful(true)\n                    setRecentlySuccessful(true)\n                }\n\n                // @ts-ignore\n                mergedOptions.onSuccess(response);\n\n                return response;\n            }).catch((error: AxiosError) => {\n                setHasErrors(true)\n                setProcessing(false)\n                setProgress(null)\n\n                if (error.response) {\n                    setErrors(error.response.data.errors ?? {});\n                    // @ts-ignore\n                    mergedOptions.onCatch(error.response);\n                    return error.response;\n                }\n\n                return Promise.reject(error);\n            }).finally(() => {\n                // @ts-ignore\n                mergedOptions.onFinish();\n            });\n        });\n    }, [data, defaultOptions, defaultRequestOptions]);\n\n    return {\n        submit,\n        data,\n        errors,\n        response,\n        hasErrors,\n        processing,\n        progress,\n        wasSuccessful,\n        recentlySuccessful,\n        isDirty: !isEqual(data, defaults),\n        setOptions(options: any = {}) {\n            setDefaultOptions(options);\n        },\n        setRequestOptions(options: any = {}) {\n            setDefaultRequestOptions(options);\n        },\n        setData(key: any, value: any) {\n            if (typeof key === 'string') {\n                if (value && value.target && value.target.value) {\n                    value = value.target.value;\n                }\n                setData({...data, [key]: value})\n            } else if (typeof key === 'function') {\n                setData((data: any) => key(data))\n            } else {\n                setData(key)\n            }\n        },\n        transform(callback: any) {\n            transform = callback\n        },\n        setDefaults(key: any, value: any) {\n            if (typeof key === 'undefined') {\n                setDefaults(() => data)\n            } else {\n                setDefaults((defaults: any) => ({\n                    ...defaults,\n                    ...(value ? {[key]: value} : key),\n                }))\n            }\n        },\n        reset(...fields: any) {\n            if (fields.length === 0) {\n                setData(defaults)\n            } else {\n                setData(\n                    Object.keys(defaults)\n                        .filter((key) => fields.includes(key))\n                        .reduce((carry, key) => {\n                            carry[key] = defaults[key]\n                            return carry\n                        }, {...data}),\n                )\n            }\n        },\n        setError(key: any, value: any) {\n            setErrors(errors => {\n                const newErrors = {\n                    ...errors,\n                    ...(value ? {[key]: value} : key),\n                }\n                setHasErrors(Object.keys(newErrors).length > 0)\n                return newErrors\n            })\n        },\n        clearErrors(...fields: any) {\n            setErrors(errors => {\n                const newErrors = Object.keys(errors).reduce(\n                    (carry, field) => ({\n                        ...carry,\n                        ...(fields.length > 0 && !fields.includes(field) ? {[field]: errors[field]} : {}),\n                    }),\n                    {},\n                )\n                setHasErrors(Object.keys(newErrors).length > 0)\n                return newErrors\n            })\n        },\n        get(url: any, options: any = {}, requestOptions: any = {}) {\n            return submit(Method.GET, url, options, requestOptions)\n        },\n        post(url: any, options: any = {}, requestOptions: any = {}) {\n            return submit(Method.POST, url, options, requestOptions)\n        },\n        put(url: any, options: any = {}, requestOptions: any = {}) {\n            return submit(Method.PUT, url, options, requestOptions)\n        },\n        patch(url: any, options: any = {}, requestOptions: any = {}) {\n            return submit(Method.PATCH, url, options, requestOptions)\n        },\n        delete(url: any, options: any = {}, requestOptions: any = {}) {\n            return submit(Method.DELETE, url, options, requestOptions)\n        }\n    }\n}\n","import {useState} from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\nexport default function useData(...args: any) {\n    const defaults = (typeof args[0] === 'string' ? args[1] : args[0]) || {};\n    const [data, setData] = useState(defaults);\n\n    return {\n        data,\n        isDirty: !isEqual(data, defaults),\n        reset(...fields: any) {\n            if (!fields.length) {\n                setData(defaults)\n            } else {\n                setData(\n                    Object.keys(defaults)\n                        .filter((key) => fields.includes(key))\n                        .reduce((carry, key) => {\n                            carry[key] = defaults[key]\n                            return carry\n                        }, {...data}),\n                )\n            }\n        },\n        setData(key: any, value: any) {\n            if (typeof value === 'object' && 'target' in value && value.target) {\n                value = value.target.value;\n            }\n\n            if (typeof key === 'string') {\n                setData({...data, [key]: value})\n            } else if (typeof key === 'function') {\n                setData((data: any) => key(data))\n            } else {\n                setData(key)\n            }\n\n            return this;\n        },\n    }\n}\n","import useForm from \"./useForm\";\nimport {Method} from \"./types\";\nimport {useEffect} from \"react\";\n\nexport default function visit(method: Method, href: any, data: object = {}, options: object = {}, requestOptions: object = {}) {\n    const form = useForm(data);\n\n    useEffect(() => {\n        form.submit(method, href, options, requestOptions);\n    });\n\n    return form;\n}\n","import React from 'react';\n\ninterface Keyable {\n    [x: string]: any;\n}\n\ninterface FlexProps {\n    vertical?: boolean,\n    reverse?: boolean,\n    right?: boolean,\n    left?: boolean,\n    bottom?: boolean,\n    top?: boolean,\n    yCenter?: boolean,\n    xCenter?: boolean,\n    center?: boolean,\n    wrap?: boolean,\n    between?: boolean,\n    grow?: boolean,\n    style?: Keyable,\n    children?: React.ReactNode,\n    [x: string]: any;\n}\n\nfunction Flex(\n    {\n        vertical = false,\n        reverse = false,\n        right = false,\n        left = false,\n        bottom = false,\n        top = false,\n        yCenter = false,\n        xCenter = false,\n        center = false,\n        wrap = false,\n        between = false,\n        grow = false,\n        style = {},\n        children = null,\n        ...rest\n    }: FlexProps\n) {\n    const styles: Keyable = {\n        display: 'flex', flexDirection: 'row', flexWrap: 'nowrap'\n    };\n\n    if (vertical) {\n        styles.flexDirection = 'column';\n\n        if (reverse) {\n            styles.flexDirection = 'column-reverse';\n        }\n\n        if (right) {\n            styles.alignItems = 'flex-end';\n        }\n\n        if (left) {\n            styles.alignItems = 'flex-start';\n        }\n\n        if (bottom) {\n            styles.justifyContent = 'flex-end';\n        }\n\n        if (top) {\n            styles.justifyContent = 'flex-start';\n        }\n\n        if (yCenter) {\n            styles.justifyContent = 'center';\n        }\n\n        if (xCenter || center) {\n            styles.alignItems = 'center';\n        }\n    } else {\n        if (reverse) {\n            styles.flexDirection = 'row-reverse';\n        }\n\n        if (right) {\n            styles.justifyContent = 'flex-end';\n        }\n\n        if (left) {\n            styles.justifyContent = 'flex-start';\n        }\n\n        if (bottom) {\n            styles.alignItems = 'flex-end';\n        }\n\n        if (top) {\n            styles.alignItems = 'flex-start';\n        }\n\n        if (xCenter) {\n            styles.justifyContent = 'center';\n        }\n\n        if (yCenter || center) {\n            styles.alignItems = 'center';\n        }\n    }\n\n    if (grow) {\n        styles['flexGrow'] = 1;\n    }\n\n    if (between) {\n        styles.justifyContent = 'space-between';\n    }\n\n    if (wrap) {\n        styles.flexWrap = 'wrap';\n    }\n\n    return (\n        <div {...rest} style={{...styles, ...style}}>\n            {children}\n        </div>\n    );\n}\n\nexport default Flex;\n","import React from 'react';\n\ninterface Keyable {\n    [key: string]: any;\n}\n\ninterface FlexItemProps {\n    flex?: boolean\n    stretch?: boolean\n    grow?: boolean\n    shrink?: boolean\n    first?: boolean\n    right?: boolean,\n    left?: boolean,\n    center?: boolean,\n    last?: boolean,\n    nth?: number | null,\n    style?: Keyable | null,\n    children?: React.ReactNode | null,\n    [x: string]: any\n}\n\nfunction FlexItem(\n    {\n        flex = false,\n        right = false,\n        left = false,\n        shrink = false,\n        center = false,\n        stretch = false,\n        first = false,\n        last = false,\n        grow = false,\n        nth = null,\n        style = {},\n        children = null,\n        ...rest\n    }: FlexItemProps\n) {\n    const styles = {};\n\n    if (flex) {\n        styles['display'] = 'flex';\n    }\n\n    if (right) {\n        styles['alignSelf'] = 'flex-end';\n    }\n\n    if (left) {\n        styles['alignSelf'] = 'flex-start';\n    }\n\n    if (stretch) {\n        styles['alignSelf'] = 'stretch';\n    }\n\n    if (center) {\n        styles['alignSelf'] = 'center';\n    }\n\n    if (grow) {\n        styles['flexGrow'] = 1;\n    }\n\n    if (shrink) {\n        styles['flexShrink'] = 1;\n    }\n\n    if (first) {\n        styles['order'] = '-9999';\n    }\n\n    if (last) {\n        styles['order'] = '9999';\n    }\n\n    if (nth) {\n        styles['order'] = nth;\n    }\n\n    return (\n        <div {...rest} style={{...styles, ...style}}>\n            {children}\n        </div>\n    );\n}\n\nexport default FlexItem;\n"],"names":["useProxy","args","computed","state","useMemo","comp","tmpState","makeProxy","forEach","callback","name","get","derive","proxy","snap","useSnapshot","Method","hrefToUrl","href","URL","toString","window","location","mergeDataIntoQueryString","method","data","qsArrayFormat","hasHost","test","hasAbsolutePath","startsWith","hasRelativePath","hasSearch","includes","GET","Object","keys","length","hasHash","url","search","qs","deepmerge","ignoreQueryPrefix","encodeValuesOnly","arrayFormat","protocol","host","pathname","substring","hash","join","urlWithoutHash","objectToFormData","source","form","parentKey","FormData","key","prototype","hasOwnProperty","call","append","composeKey","parent","value","Array","isArray","from","index","Date","toISOString","File","Blob","undefined","hasFiles","FileList","values","some","useForm","options","requestOptions","isMounted","useRef","_useState","useState","defaults","setDefaults","_useState2","setData","_useState3","errors","setErrors","_useState4","response","setResponse","_useState5","hasErrors","setHasErrors","_useState6","processing","setProcessing","_useState7","progress","setProgress","_useState8","wasSuccessful","setWasSuccessful","_useState9","recentlySuccessful","setRecentlySuccessful","_useState10","defaultOptions","setDefaultOptions","_useState11","defaultRequestOptions","setDefaultRequestOptions","transform","useEffect","current","submit","useCallback","transformedData","mergedOptions","_extends","forceFormData","queryStringArrayFormat","onStart","config","onProgress","onSuccess","onCatch","onError","onFinish","_mergeDataIntoQuerySt","_href","_data","mergedConfig","params","headers","onUploadProgress","percentage","Math","round","loaded","total","Promise","resolve","then","newConfig","Axios","error","_error$response$data$","reject","isDirty","isEqual","setOptions","setRequestOptions","_extends2","target","_ref","reset","fields","_len","_key","arguments","filter","reduce","carry","setError","newErrors","_ref2","clearErrors","_len2","_key2","field","_ref3","post","POST","put","PUT","patch","PATCH","_delete","DELETE","useData","visit","Flex","vertical","_ref$vertical","_ref$reverse","reverse","_ref$right","right","_ref$left","left","_ref$bottom","bottom","_ref$top","top","_ref$yCenter","yCenter","_ref$xCenter","xCenter","_ref$center","center","_ref$wrap","wrap","_ref$between","between","_ref$grow","grow","_ref$style","style","_ref$children","children","rest","_objectWithoutPropertiesLoose","_excluded","styles","display","flexDirection","flexWrap","alignItems","justifyContent","React","FlexItem","flex","_ref$flex","_ref$shrink","shrink","_ref$stretch","stretch","_ref$first","first","_ref$last","last","_ref$nth","nth"],"mappings":"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"}